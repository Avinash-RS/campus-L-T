<div class="main-wrapper">
    <div class="layer-only">
    </div>
    <div class="register-wrapper">
        <div class="register-header">
            <h3>Registration</h3>
        </div>
        <div class="content-wrapper">
            <div class="sidebar-wrapper" [ngClass]="currentForm === 'corporate' ? 'side-wrapper-bg-corporate' : 'side-wrapper-bg-institute'">
                <img src="assets/images/Logo.png" alt="" srcset="">
                <h5>Unified Digital
                    Assessment Platform</h5>
            </div>
            <div class="form-wrapper">
                <form [formGroup]="registerForm">
                    <div class="forms">
                        <div class="form-field">
                            <label class="label-name">
                                First Name<span class="asterick">*</span>
                            </label>
                            <div class="input-box">
                                <input matInput formControlName="firstName" type="text" required>
                            </div>
                            <div class="error" *ngIf="firstName.invalid && firstName.touched">
                                <span *ngIf="firstName.errors?.required">Name is Required</span>
                                <span *ngIf="firstName.errors?.pattern">Alphabetic characters only allowed</span>
                            </div>
                        </div>
                        <div class="form-field">
                            <label class="label-name">
                                Last Name<span class="asterick">*</span>
                            </label>
                            <div class="input-box">
                                <input matInput formControlName="lastName" type="text" required>
                            </div>
                            <div class="error" *ngIf="lastName.invalid && lastName.touched">
                                <span *ngIf="lastName.errors?.required">Last Name is Required</span>
                                <span *ngIf="lastName.errors?.pattern">Alphabetic characters only allowed</span>
                            </div>

                        </div>
                        <div class="form-field">
                            <label class="label-name">
                                Job Title<span class="asterick">*</span>
                            </label>
                            <div class="input-box">
                                <input matInput formControlName="jobTitle" type="text" required>
                            </div>
                            <div class="error" *ngIf="jobTitle.invalid && jobTitle.touched">
                                <span *ngIf="jobTitle.errors?.required">Job title is Required</span>
                            </div>

                        </div>
                        <div class="form-field">
                            <label class="label-name">
                                Mobile Number<span class="asterick">*</span>
                            </label>
                            <div class="input-box">
                                <input matInput formControlName="mobileNumber" type="text" required>
                            </div>
                            <div class="error" *ngIf="mobileNumber.invalid && mobileNumber.touched">
                                <span *ngIf="mobileNumber.errors?.required">Mobile Number is Required</span>
                                <span *ngIf="mobileNumber.errors?.pattern">Please enter valid 10 digit Mobile
                                    Number</span>
                            </div>
                        </div>
                        <div class="form-field">
                            <label class="label-name">
                                {{(currentForm === 'corporate' ? 'Corporate Name' : 'Institute Name')}}<span class="asterick">*</span>
                            </label>
                            <div class="input-box">
                                <input matInput formControlName="corporateName" type="text" required>
                            </div>
                            <div class="error" *ngIf="corporateName.invalid && corporateName.touched">
                                <span *ngIf="corporateName.errors?.required">{{(currentForm === 'corporate' ? 'Corporate' : 'Institute')}} Name is Required</span>
                            </div>
                        </div>
                        <div class="form-field">
                            <label class="label-name">
                                {{(currentForm === 'corporate' ? 'Corporate' : 'Institute')}} Email ID<span class="asterick">*</span>
                            </label>
                            <div class="input-box">
                                <input matInput formControlName="corporateEmail" type="text" required>
                            </div>
                            <div class="error" *ngIf="corporateEmail.invalid && corporateEmail.touched">
                                <span *ngIf="corporateEmail.errors?.required">{{(currentForm === 'corporate' ? 'Corporate' : 'Institute')}} Email is Required</span>
                                <span *ngIf="corporateEmail.errors?.pattern">Please enter a valid Email id</span>
                            </div>
                        </div>
                        <div class="form-field">
                            <label class="label-name">
                                State<span class="asterick">*</span>
                            </label>
                            <div class="input-box">
                                <input #statetrigger="matAutocompleteTrigger" type="text" placeholder=""
                                    formControlName="state" [matAutocomplete]="stateMat"><span
                                    (click)="openDropdown($event, statetrigger)" class="material-icons">
                                    arrow_drop_down
                                </span>

                                <mat-autocomplete #stateMat="matAutocomplete" [displayWith]="statedisplayFn">
                                    <!-- <cdk-virtual-scroll-viewport itemSize="50" class="viewport"> -->
                                        <mat-option *ngFor="let state of filteredStates | async" [value]="state">
                                        {{state.state}}
                                    </mat-option>
                                <!-- </cdk-virtual-scroll-viewport> -->
                            </mat-autocomplete>
                            </div>
                            <div class="error" *ngIf="state.invalid && state.touched">
                                <span *ngIf="state.errors?.required">State is Required</span>
                                <span *ngIf="!state.errors?.required && state.errors?.dropdownNotMatch">Please select
                                    the
                                    value from drop down</span>
                            </div>
                        </div>
                        <div class="form-field">
                            <label class="label-name">
                                City<span class="asterick">*</span>
                            </label>
                            <div class="input-box">
                                <input #citytrigger="matAutocompleteTrigger" type="text" placeholder=""
                                    formControlName="city" [matAutocomplete]="auto"><span
                                    (click)="openDropdown($event, citytrigger)" class="material-icons">
                                    arrow_drop_down
                                </span>
                                <mat-autocomplete #auto="matAutocomplete" [displayWith]="citydisplayFn">
                                    <!-- <cdk-virtual-scroll-viewport itemSize="50" class="viewport"> -->
                                        <mat-option *ngFor="let city of filteredCities | async" [value]="city">
                                        {{city.City}}
                                    </mat-option>
                                <!-- </cdk-virtual-scroll-viewport> -->
                            </mat-autocomplete>
                            </div>
                            <div class="error" *ngIf="city.invalid && city.touched">
                                <span *ngIf="city.errors?.required">City is Required</span>
                                <span *ngIf="!city.errors?.required && city.errors?.dropdownNotMatch">Please select the
                                    value from drop down</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-field-comment">
                        <div>
                            <label class="label-name">
                                Comments..
                            </label>
                            <div class="input-box">
                                <textarea formControlName="comment" type="text"></textarea>
                            </div>
                        </div>

                    </div>
                </form>
            </div>

        </div>
        <div class="register-footer">
            <!-- <input type="submit" form="ngForm" (click)="onSubmit(gDetailForm.value, 'save')"/> -->
            <button type="submit" (click)="onSubmit(registerForm.value)">Submit</button>
        </div>

    </div>
</div>
