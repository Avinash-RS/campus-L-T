<div class="new-inv-particular-assessment-candidate">
  <div class="borders"></div>
  <div class="top-wrapper">
    <div style="padding-left: 1em;" class="left">
      <div class="flex-wrap">
        <div class="label">
          Institute name<span class="asterick">*</span>
        </div>
        <div class="input-box">
          <nz-select class="nzSelect-revamp" [(ngModel)]="selectedInstitute"
            (ngModelChange)="instituteChangeForDiscipline(selectedInstitute)" nzAllowClear nzShowSearch
            nzPlaceHolder="--Select Institute name--">
            <nz-option *ngFor="let level of allInstitutes" [nzLabel]="level.institute_name"
              [nzValue]="level.institute_name"></nz-option>
          </nz-select>
        </div>
      </div>
      <div class="flex-wrap">
        <div class="label">
          Discipline
        </div>
        <div [matTooltip]="selectedInstitute ? '' : 'Select Institute name'" class="input-box">
          <nz-select [ngClass]="selectedInstitute ? '' : 'disabled'" class="nzSelect-revamp"
            [(ngModel)]="selectedDiscipline" (ngModelChange)="instituteChange()" nzAllowClear nzShowSearch
            nzPlaceHolder="All">
            <nz-option *ngFor="let level of allDisciplines" [nzLabel]="level.discipline" [nzValue]="level.discipline">
            </nz-option>
          </nz-select>
        </div>
      </div>
      <div class="flex-wrap">
        <div class="label">
          Education level
        </div>
        <div class="input-box">
          <nz-select class="nzSelect-revamp" [(ngModel)]="selectedEdu" (ngModelChange)="instituteChange()" nzAllowClear
            nzShowSearch nzPlaceHolder="All">
            <nz-option *ngFor="let level of allEducations" [nzLabel]="level.label" [nzValue]="level.name"></nz-option>
          </nz-select>
        </div>
      </div>
      <div class="flex-wrap">
        <div class="label">
          Assessment
        </div>
        <div [matTooltip]="selectedInstitute ? '' : 'Select Institute name'" class="input-box">
          <nz-select class="nzSelect-revamp" [ngClass]="selectedInstitute ? '' : 'disabled'"
            [(ngModel)]="selectedAssessment" (ngModelChange)="instituteChange()" nzAllowClear nzShowSearch
            nzPlaceHolder="All">
            <nz-option *ngFor="let level of allAssessments" [nzLabel]="level.assement_name"
              [nzValue]="level.assement_name"></nz-option>
          </nz-select>
        </div>
      </div>
      <div class="flex-wrap">
        <div class="label">
          Status<span class="asterick">*</span>
        </div>
        <div class="input-box">
          <nz-select class="nzSelect-revamp" [(ngModel)]="selectedStatus" (ngModelChange)="instituteChange()"
            nzAllowClear nzShowSearch nzPlaceHolder="--Select Status--">
            <nz-option *ngFor="let level of statusList" [nzLabel]="level.name" [nzValue]="level.value"></nz-option>
          </nz-select>
        </div>
      </div>
      <div class="flex-wrap">
        <div class="label">
          &#160;
        </div>
        <div class="input-box">
          <div style="display: flex; justify-content: center;">
            <button [disabled]="selectedInstitute && selectedStatus ? false : true" class="submit" (click)="go()"
              mat-raised-button>Go</button>
          </div>
        </div>
      </div>

    </div>
    <div style="padding-left: 2em;" class="right">
      <div class="flex-wrap">
        <div class="label">
          Interview panel discipline
        </div>
        <div class="input-box">
          <nz-select class="nzSelect-revamp" [(ngModel)]="selectedHRDiscipline"
            (ngModelChange)="hrDiciplineChange(selectedHRDiscipline)" nzAllowClear nzShowSearch nzPlaceHolder="All">
            <nz-option *ngFor="let level of allHRDisciplines" [nzLabel]="level.discipline_name"
              [nzValue]="level.discipline_name"></nz-option>
          </nz-select>
        </div>
      </div>
      <div class="flex-wrap">
        <div class="label">
          &#160;
        </div>
        <div class="input-box">
          <div style="display: flex; justify-content: center;">
            <button class="submit" (click)="HRgo(selectedHRDiscipline)" mat-raised-button>Go</button>
          </div>
        </div>
      </div>

    </div>

  </div>
  <div class="user-list-wrapper">
    <!-- <mat-form-field>
                    <mat-label>Filter</mat-label> -->
    <!-- </mat-form-field> -->
    <div class="total-wrap">
      <div class="lefttable">
        <div class="head-flex">
          <div class="text">Shortlisted candidates list:</div>
          <div class="search-bar">
            <div class="search-icon">
              <input matInput (keyup)="applyFilter($event)" placeholder="Search….">
              <img src="assets/images/feather-search.svg" alt="" srcset="">
            </div>
          </div>      
        </div>
        <div [ngClass]="userList && userList.length > 0 ? 'scroll' : 'scroll1'">
          <table mat-table #sort="matSort" [dataSource]="dataSource" matSort class="mat-elevation-z8">

            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Candidate name </th>
              <td mat-cell *matCellDef="let element"> {{element.name ? element.name : '-'}} </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="discipline">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Discipline </th>
              <td mat-cell *matCellDef="let element"> {{element.discipline ? element.discipline : '-'}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="level">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Education level </th>
              <td mat-cell *matCellDef="let element"> {{element.level ? element.level : '-'}} </td>
            </ng-container>


            <ng-container matColumnDef="checked">
              <th mat-header-cell *matHeaderCellDef>
                <div>Select All</div>
                <mat-checkbox (click)="$event.stopPropagation()" (change)="selectAllCheckbox($event)"
                  [checked]="selectAllCheck">
                </mat-checkbox>
              </th>
              <td mat-cell *matCellDef="let element">
                <mat-checkbox (click)="$event.stopPropagation()" (change)="selectedUser(element)" 
                  [checked]="element.checked">
                </mat-checkbox>

              </td>
            </ng-container>

                  <!-- fifth Header row first group -->
      <div [ngClass]="(userList && userList.length === 0) || showDefault ? '' : 'hide'" matColumnDef="fifth-header-row-first-group">
        <th mat-header-cell *matHeaderCellDef [attr.colspan]="10">
          {{(showDefault ? 'Please select Institute name' : 'No Data Available')}}
        </th>
      </div>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr class="no-data-available" [ngClass]="(userList && userList.length === 0) || showDefault ? '' : 'hide'" mat-header-row
            *matHeaderRowDef="['fifth-header-row-first-group']">
          </tr>  
            <tr mat-row *matRowDef="let row; let i = index; columns: displayedColumns;"
              [ngClass]="i % 2 == 0 ? 'light-bg' : 'dark-bg'" matRipple class="element-row" [cdkDetailRow]="row"></tr>
          </table>
        </div>
        <mat-paginator #paginator [pageSizeOptions]="[1000]"></mat-paginator>
      </div>

      <!-- second table -->
      <div class="righttable">
        <div class="head-flex">
          <div class="text">Interview panel list:</div>
          <div class="search-bar">
            <div class="search-icon">
              <input matInput (keyup)="applyFilterHR($event)" placeholder="Search….">
              <img src="assets/images/feather-search.svg" alt="" srcset="">
            </div>
          </div>      
        </div>
        <div [ngClass]="userListHR && userListHR.length > 0 ? 'scroll' : 'scroll1'">
          <table mat-table #sortHR="matSort" [dataSource]="dataSourceHR" matSort class="mat-elevation-z8">
            <!-- Name Column -->
            <ng-container matColumnDef="employee_name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee name </th>
              <td mat-cell *matCellDef="let element"> {{element.employee_name ? element.employee_name : '-'}} </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="discipline">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Discipline </th>
              <td mat-cell *matCellDef="let element"> {{element.discipline ? element.discipline : '-'}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
              <td mat-cell *matCellDef="let element"> {{element.email ? element.email : '-'}} </td>
            </ng-container>

            <ng-container matColumnDef="checked" sticky>
              <th mat-header-cell *matHeaderCellDef>
                <div>Select All</div>
                <mat-checkbox (click)="$event.stopPropagation()" (change)="selectAllCheckboxHR($event)"
                  [checked]="selectAllCheckHR">
                </mat-checkbox>
              </th>
              <td mat-cell *matCellDef="let element">
                <mat-checkbox (click)="$event.stopPropagation()" (change)="selectedUserHR(element)"
                  [checked]="element.checked">
                </mat-checkbox>

              </td>
            </ng-container>

                              <!-- fifth Header row first group -->
      <div [ngClass]="userListHR && userListHR.length === 0 ? '' : 'hide'" matColumnDef="fifth-header-row-first-group">
        <th mat-header-cell *matHeaderCellDef [attr.colspan]="10">
          {{'No Data Available'}}
        </th>
      </div>

            <tr mat-header-row *matHeaderRowDef="displayedColumns1; sticky: true"></tr>
            <tr class="no-data-available" [ngClass]="userListHR && userListHR.length === 0 ? '' : 'hide'" mat-header-row
            *matHeaderRowDef="['fifth-header-row-first-group']">
          </tr>  

            <tr mat-row *matRowDef="let row; let i = index; columns: displayedColumns1;"
              [ngClass]="i % 2 == 0 ? 'light-bg' : 'dark-bg'" matRipple class="element-row" [cdkDetailRow]="row"></tr>
          </table>
        </div>
        <mat-paginator #paginatorHR [pageSizeOptions]="[1000]"></mat-paginator>
      </div>

    </div>
  </div>

  <div class="button-wrapper">
    <button class="submit" [ngClass]="(userList && userList.length > 0) && (userListHR && userListHR.length > 0) ? '' : 'disabled'" (click)="submit()" mat-raised-button>Assign</button>
  </div>
</div>